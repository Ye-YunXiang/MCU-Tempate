/*********************************************************************************************/
【*】程序简介

-工程名称：DMA 存储器到存储器模式实验
-实验平台: 野火STM32 霸道 开发板 

【 ！】功能简介：
利用DMA，把存放在内部FLASH的源数据拷贝到内部的SRAM上，并对比是否传输准确


【 ！】实验操作：
确保开发板供电正常，编译程序并下载。观察RGB彩色灯变化情况。
正常情况下RGB彩色灯先为紫色，然后变成蓝色。如果DMA传输出错才会为红色。


/*********************************************************************************************/
【*】 引脚分配

	LED_R	<-----> PB5
	LED_G	<-----> PB0
	LED_B	<-----> PB1

	对应引脚低电平则LED灯亮

 * 对于霸道V2板，在实验中，请不要拔掉旁边J73对应盖好的黄色跳帽，这样会导致LED失去3V3的电源而不能工作。


/*********************************************************************************************/
【*】程序描述：

< main.c >

- DMA相关定义

	1.定义DMA通道及时钟
	2.定义传输完成标志
	3.定义要发送的数据大小
	4.定义数组，将其设定为DMA传输数据源，利用const关键字修饰，使变量存储在内部flash空间上
	5.定义DMA传输目标存储器

- 声明

	声明延时、数据比较、DMA配置函数

- 主函数

	1.定义存放比较结果变量
	2.初始化LED端口，然后把LED灯设置为紫色
	3.设置一个延时函数，如不设置延时函数则实验中肉眼无法发现LED是紫色的时间
	3.初始化DMA配置，等待DMA传输完成
	4.比较源数据和传输后的数据，若相同则LED显示为蓝色，不同则显示为红色

- DMA配置

	1.引用结构体
	2.开启DMA的时钟
	3.设定源数据地址、目标地址、方向、传输大小
	4.设置数据指针的增量模式，设定两边数据的单位大小
	5.设定DMA循环模式、设定优先级、使能内存到内存传输模式
	6.配置DMA通道，使能DMA以启动DMA数据传输

- 数据比较函数
	
	1.将原数据与传输后的数据一位一位的做比较，不一致返回0，一致则返回1
	

【*】注意：当使用存储器到存储器模式时候，通道（CHANNEL)可以随便选，没有硬性的规定，而存储器到外设和外设到存储器不可以  

/*********************************************************************************************/

【*】 联系我们

-野火官网  :https://embedfire.com
-野火论坛  :http://www.firebbs.cn
-野火商城  :https://yehuosm.tmall.com/
-野火资料下载中心 :http://doc.embedfire.com/products/link

/*********************************************************************************************/

